<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
  <head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"    content="width=device-width, initial-scale=1"/>
    <meta name="description" content="Railsガイドは、Ruby on Rails Guidesに基づいた大型リファレンスガイドです。Rails開発の生産性を高めたいときや、Railsの各機能を体系的に学びたいときに役立ちます。" />
    <meta name="keywords"    content="Ruby Rails ガイド 体系的 入門 無料" />
    <meta name="author"      content="Ruby on Rails Community" />

    <meta property="fb:admins"      content="715330868" />
    <meta property="og:title"       content="Ruby on Rails ガイド：体系的に Rails を学ぼう"/>
    <meta property="og:site_name"   content="Ruby on Rails ガイド：体系的に Rails を学ぼう"/>
    <meta property="og:image"       content="http://railsguides.jp/images/cover_for_facebook.png"/>
    <meta property="og:url"         content="http://railsguides.jp/" />
    <meta property="og:type"        content="article" />
    <meta property="og:description" content="Railsガイドは、Ruby on Rails Guidesに基づいた大型リファレンスガイドです。Rails開発の生産性を高めたいときや、Railsの各機能を体系的に学びたいときに役立ちます。" />

    <meta name="twitter:card"  content="summary" />
    <meta name="twitter:site"  content="@RailsGuidesJP" />
    <meta name="twitter:title" content="Ruby on Rails ガイド：体系的に Rails を学ぼう" />
    <meta name="twitter:description" content="Railsガイドは、Ruby on Rails Guidesに基づいた大型リファレンスガイドです。Rails開発の生産性を高めたいときや、Railsの各機能を体系的に学びたいときに役立ちます。" />
    <meta name="twitter:image" content="http://railsguides.jp/images/cover_for_twitter.png" />
    <meta name="twitter:url"   content="http://railsguides.jp/" />

    <title>Ruby on Rails 4.0 リリースノート | Rails ガイド</title>
    <meta name="apple-mobile-web-app-title" content="Railsガイド" />
    <meta name="application-name"           content="Railsガイド" />

    <link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />
    <link rel="stylesheet" type="text/css" href="stylesheets/fixes.css" />

    <link href="images/favicon.ico" rel="shortcut icon" type="image/x-icon" />

    <link rel="apple-touch-icon" sizes="57x57" href="images/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="images/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="images/favicons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

  </head>
<body class="guide">
  <div id="fb-root"></div>
  <script>(function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=614116885378153&version=v2.0";
    fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
  <div id="topNav">
    <div class="wrapper">
      <strong class="more-info-label">関連サイト: </strong>
      <span class="red-button more-info-button">関連URL</span>
      <ul class="more-info-links s-hidden">
        <li class="more-info"><a href="http://guides.rubyonrails.org/">原著 (英語)</a></li>
        <li class="more-info"><a href="https://github.com/yasslab/railsguides.jp">ソースコード (GitHub)</a></li>
        <li class="more-info"><a href="http://railstutorial.jp/">Rails チュートリアル</a></li>
      </ul>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="/" title="Return to home page">railsguides.jp</a></h1>
      <ul class="nav">
        <li><a class="nav-item" href="/">ホーム</a></li>
        <li class="guides-index guides-index-large">
          <a href="index.html" id="guidesMenu" class="guides-index-item nav-item">ガイド目次</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
              <dl class="L">
                <dt>はじめに</dt>
                <dd><a href="getting_started.html">Rails をはじめよう</a></dd>
                <dt>モデル</dt>
                <dd><a href="active_record_basics.html">Active Record の基礎</a></dd>
                <dd><a href="active_record_migrations.html">Active Record マイグレーション</a></dd>
                <dd><a href="active_record_validations.html">Active Record バリデーション</a></dd>
                <dd><a href="active_record_callbacks.html">Active Record コールバック</a></dd>
                <dd><a href="association_basics.html">Active Record の関連付け</a></dd>
                <dd><a href="active_record_querying.html">Active Record クエリインターフェイス</a></dd>
                <dd><a href="active_model_basics.html">Active Model の基礎</a></dd>
                <dt>ビュー</dt>
                <dd><a href="action_view_overview.html">Action View の概要</a></dd>
                <dd><a href="layouts_and_rendering.html">レイアウトとレンダリング</a></dd>
                <dd><a href="form_helpers.html">Action View フォームヘルパー</a></dd>
                <dt>コントローラ</dt>
                <dd><a href="action_controller_overview.html">Action Controller の概要</a></dd>
                <dd><a href="routing.html">Rails ルーティング</a></dd>
              </dl>
              <dl class="R">
                <dt>高度なトピック</dt>
                <dd><a href="active_support_core_extensions.html">Active Support コア拡張機能</a></dd>
                <dd><a href="i18n.html">Rails 国際化 (i18n) API</a></dd>
                <dd><a href="action_mailer_basics.html">Action Mailer の基礎</a></dd>
                <dd><a href="active_job_basics.html">Active Job の基礎</a></dd>
                <dd><a href="testing.html">Rails テスティングガイド</a></dd>
                <dd><a href="security.html">Rails セキュリティガイド</a></dd>
                <dd><a href="debugging_rails_applications.html">Rails アプリケーションのデバッグ</a></dd>
                <dd><a href="configuring.html">Rails アプリケーションを設定する</a></dd>
                <dd><a href="command_line.html">コマンドラインツールと Rake タスク</a></dd>
                <dd><a href="asset_pipeline.html">アセットパイプライン</a></dd>
                <dd><a href="working_with_javascript_in_rails.html">Rails で JavaScript を使用する</a></dd>
                <dd><a href="initialization.html">Rails の初期化プロセス</a></dd>
                <dd><a href="autoloading_and_reloading_constants.html">定数の自動読み込みと再読み込み</a></dd>
                <dd><a href="caching_with_rails.html">Rails のキャッシュ: 概要</a></dd>
                <dd><a href="active_support_instrumentation.html">Active Support の Instrumentation 機能</a></dd>
                <dd><a href="profiling.html">Rails アプリケーションのプロファイリング</a></dd>
                <dd><a href="api_app.html">Rails による API 専用アプリ</a></dd>
                <dd><a href="action_cable_overview.html">Action Cable の概要</a></dd>
                <dt>Rails を拡張する</dt>
                <dd><a href="plugins.html">Rails プラグイン作成入門</a></dd>
                <dd><a href="rails_on_rack.html">Rails と Rack</a></dd>
                <dd><a href="generators.html">Rails ジェネレータとテンプレート入門</a></dd>
                <dd><a href="engines.html">Rails エンジン入門</a></dd>
                <dt>Ruby on Rails に貢献する</dt>
                <dd><a href="contributing_to_ruby_on_rails.html">Ruby on Rails に貢献する方法</a></dd>
                <dd><a href="development_dependencies_install.html">Rails コア開発環境の構築方法</a></dd>
                <dd><a href="api_documentation_guidelines.html">API ドキュメント作成ガイドライン</a></dd>
                <dd><a href="ruby_on_rails_guides_guidelines.html">Rails ガイドのガイドライン</a></dd>
                <dt>メンテナンスポリシー</dt>
                <dd><a href="maintenance_policy.html">メンテナンスポリシー</a></dd>
                <dt>リリースノート</dt>
                <dd><a href="upgrading_ruby_on_rails.html">Rails アップグレードガイド</a></dd>
                <dd><a href="5_0_release_notes.html">Ruby on Rails 5.0 リリースノート</a></dd>
                <dd><a href="4_2_release_notes.html">Ruby on Rails 4.2 リリースノート</a></dd>
                <dd><a href="4_1_release_notes.html">Ruby on Rails 4.1 リリースノート</a></dd>
                <dd><a href="4_0_release_notes.html">Ruby on Rails 4.0 リリースノート</a></dd>
                <dd><a href="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes [未着手]</a></dd>
                <dd><a href="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes [未着手]</a></dd>
                <dd><a href="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes [未着手]</a></dd>
                <dd><a href="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes [未着手]</a></dd>
                <dd><a href="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes [未着手]</a></dd>
              </dl>
          </div>
        </li>
        <li><a class="nav-item" href="https://github.com/yasslab/railsguides.jp#readme">翻訳に貢献する</a></li>
        <li><a class="nav-item" href="credits.html">原著者</a></li>
        <li><a class="nav-item" href="options.html">電子書籍 (検索対応)</a></li>
        <li class="guides-index guides-index-small">
          <select class="guides-index-item nav-item">
            <option value="index.html">ガイド目次</option>
              <optgroup label="はじめに">
                  <option value="getting_started.html">Rails をはじめよう</option>
              </optgroup>
              <optgroup label="モデル">
                  <option value="active_record_basics.html">Active Record の基礎</option>
                  <option value="active_record_migrations.html">Active Record マイグレーション</option>
                  <option value="active_record_validations.html">Active Record バリデーション</option>
                  <option value="active_record_callbacks.html">Active Record コールバック</option>
                  <option value="association_basics.html">Active Record の関連付け</option>
                  <option value="active_record_querying.html">Active Record クエリインターフェイス</option>
                  <option value="active_model_basics.html">Active Model の基礎</option>
              </optgroup>
              <optgroup label="ビュー">
                  <option value="action_view_overview.html">Action View の概要</option>
                  <option value="layouts_and_rendering.html">レイアウトとレンダリング</option>
                  <option value="form_helpers.html">Action View フォームヘルパー</option>
              </optgroup>
              <optgroup label="コントローラ">
                  <option value="action_controller_overview.html">Action Controller の概要</option>
                  <option value="routing.html">Rails ルーティング</option>
              </optgroup>
              <optgroup label="高度なトピック">
                  <option value="active_support_core_extensions.html">Active Support コア拡張機能</option>
                  <option value="i18n.html">Rails 国際化 (i18n) API</option>
                  <option value="action_mailer_basics.html">Action Mailer の基礎</option>
                  <option value="active_job_basics.html">Active Job の基礎</option>
                  <option value="testing.html">Rails テスティングガイド</option>
                  <option value="security.html">Rails セキュリティガイド</option>
                  <option value="debugging_rails_applications.html">Rails アプリケーションのデバッグ</option>
                  <option value="configuring.html">Rails アプリケーションを設定する</option>
                  <option value="command_line.html">コマンドラインツールと Rake タスク</option>
                  <option value="asset_pipeline.html">アセットパイプライン</option>
                  <option value="working_with_javascript_in_rails.html">Rails で JavaScript を使用する</option>
                  <option value="initialization.html">Rails の初期化プロセス</option>
                  <option value="autoloading_and_reloading_constants.html">定数の自動読み込みと再読み込み</option>
                  <option value="caching_with_rails.html">Rails のキャッシュ: 概要</option>
                  <option value="active_support_instrumentation.html">Active Support の Instrumentation 機能</option>
                  <option value="profiling.html">Rails アプリケーションのプロファイリング</option>
                  <option value="api_app.html">Rails による API 専用アプリ</option>
                  <option value="action_cable_overview.html">Action Cable の概要</option>
              </optgroup>
              <optgroup label="Rails を拡張する">
                  <option value="plugins.html">Rails プラグイン作成入門</option>
                  <option value="rails_on_rack.html">Rails と Rack</option>
                  <option value="generators.html">Rails ジェネレータとテンプレート入門</option>
                  <option value="engines.html">Rails エンジン入門</option>
              </optgroup>
              <optgroup label="Ruby on Rails に貢献する">
                  <option value="contributing_to_ruby_on_rails.html">Ruby on Rails に貢献する方法</option>
                  <option value="development_dependencies_install.html">Rails コア開発環境の構築方法</option>
                  <option value="api_documentation_guidelines.html">API ドキュメント作成ガイドライン</option>
                  <option value="ruby_on_rails_guides_guidelines.html">Rails ガイドのガイドライン</option>
              </optgroup>
              <optgroup label="メンテナンスポリシー">
                  <option value="maintenance_policy.html">メンテナンスポリシー</option>
              </optgroup>
              <optgroup label="リリースノート">
                  <option value="upgrading_ruby_on_rails.html">Rails アップグレードガイド</option>
                  <option value="5_0_release_notes.html">Ruby on Rails 5.0 リリースノート</option>
                  <option value="4_2_release_notes.html">Ruby on Rails 4.2 リリースノート</option>
                  <option value="4_1_release_notes.html">Ruby on Rails 4.1 リリースノート</option>
                  <option value="4_0_release_notes.html">Ruby on Rails 4.0 リリースノート</option>
                  <option value="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes [未着手]</option>
                  <option value="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes [未着手]</option>
                  <option value="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes [未着手]</option>
                  <option value="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes [未着手]</option>
                  <option value="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes [未着手]</option>
              </optgroup>
          </select>
        </li>
      </ul>
      </div>
    </div>
  </div>
  <hr class="hide" />
  <div id="feature">
  <div class="wrapper">
      <h2>Ruby on Rails 4.0 リリースノート</h2><p>Rails 4.0の注目ポイント</p>
<ul>
<li>Ruby 2.0が推奨。1.9.3以上が必須。</li>
<li>Strong Parameters</li>
<li>Turbolinks</li>
<li>ロシアンドールキャッシュ (Russian Doll Caching)</li>
</ul>
<p>本リリースノートでは、主要な変更についてのみ説明します。多数のバグ修正および変更点については、GithubのRailsリポジトリにある<a href="https://github.com/rails/rails/commits/4-0-stable">コミットリスト</a>のchangelogを参照してください。</p>
                <div id="subCol">
            <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />目次</h3>
            <ol class="chapters">
<li><a href="#rails-4-0%E3%81%B8%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89">Rails 4.0へのアップグレード</a></li>
<li>
<a href="#rails-4-0%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B">Rails 4.0アプリケーションを作成する</a>

<ul>
<li><a href="#gem%E3%81%AB%E7%A7%BB%E8%A1%8C%E3%81%99%E3%82%8B">gemに移行する</a></li>
<li><a href="#%E6%9C%80%E6%96%B0%E3%81%AEgem%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B">最新のgemを使用する</a></li>
</ul>
</li>
<li>
<a href="#%E4%B8%BB%E8%A6%81%E3%81%AA%E5%A4%89%E6%9B%B4">主要な変更</a>

<ul>
<li><a href="#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89">アップグレード</a></li>
<li><a href="#actionpack">ActionPack</a></li>
<li><a href="#%E4%B8%80%E8%88%AC">一般</a></li>
<li><a href="#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3">セキュリティ</a></li>
</ul>
</li>
<li><a href="#%E5%A4%96%E9%83%A8gem%E5%8C%96%E3%81%95%E3%82%8C%E3%81%9F%E6%A9%9F%E8%83%BD">外部gem化された機能</a></li>
<li><a href="#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88">ドキュメント</a></li>
<li>
<a href="#railties">Railties</a>

<ul>
<li><a href="#railties-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">主な変更点</a></li>
<li><a href="#railties-%E9%9D%9E%E6%8E%A8%E5%A5%A8">非推奨</a></li>
</ul>
</li>
<li>
<a href="#action-mailer">Action Mailer</a>

<ul>
<li><a href="#action-mailer-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">主な変更点</a></li>
<li><a href="#action-mailer-%E9%9D%9E%E6%8E%A8%E5%A5%A8">非推奨</a></li>
</ul>
</li>
<li>
<a href="#active-model">Active Model</a>

<ul>
<li><a href="#active-model-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">主な変更点</a></li>
<li><a href="#active-model-%E9%9D%9E%E6%8E%A8%E5%A5%A8">非推奨</a></li>
</ul>
</li>
<li>
<a href="#active-support">Active Support</a>

<ul>
<li><a href="#active-support-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">主な変更点</a></li>
<li><a href="#active-support-%E9%9D%9E%E6%8E%A8%E5%A5%A8">非推奨</a></li>
</ul>
</li>
<li>
<a href="#action-pack">Action Pack</a>

<ul>
<li><a href="#action-pack-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">主な変更点</a></li>
<li><a href="#action-pack-%E9%9D%9E%E6%8E%A8%E5%A5%A8">非推奨</a></li>
</ul>
</li>
<li>
<a href="#active-record">Active Record</a>

<ul>
<li><a href="#active-record-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">主な変更点</a></li>
<li><a href="#active-record-%E9%9D%9E%E6%8E%A8%E5%A5%A8">非推奨</a></li>
</ul>
</li>
<li><a href="#%E3%82%AF%E3%83%AC%E3%82%B8%E3%83%83%E3%83%88%E8%A1%A8%E8%A8%98">クレジット表記</a></li>
</ol>

          </div>
</div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="rails-4-0へのアップグレード"><a href="#rails-4-0%E3%81%B8%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89">1 Rails 4.0へのアップグレード</a></h3><p>既存のアプリケーションをアップグレードするのであれば、その前に質のよいテストカバレッジを用意するのはよい考えです。アプリケーションがRails 3.2までアップグレードされていない場合は先にそれを完了し、アプリケーションが正常に動作することを十分確認してからRails 4.0にアップデートしてください。アップグレードの注意点などについては<a href="upgrading_ruby_on_rails.html#rails-3-2%E3%81%8B%E3%82%89rails-4-0%E3%81%B8%E3%81%AE%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89">Ruby on Railsアップグレードガイド</a> を参照してください。</p><h3 id="rails-4-0アプリケーションを作成する"><a href="#rails-4-0%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B">2 Rails 4.0アプリケーションを作成する</a></h3><div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
# 'rails'というRubyGemがインストールされている必要があります。
$ rails new myapp
$ cd myapp

</pre>
</div>
<h4 id="gemに移行する"><a href="#gem%E3%81%AB%E7%A7%BB%E8%A1%8C%E3%81%99%E3%82%8B">2.1 gemに移行する</a></h4><p>Rails 4.0からは、アプリケーションのルートディレクトリに置かれる<code>Gemfile</code>を使用して、アプリケーションの起動に必要なgemを指定するようになりました。この<code>Gemfile</code>は<a href="https://github.com/carlhuda/bundler">Bundler</a>というgemによって処理され、依存関係のある必要なgemをすべてインストールします。依存するgemをそのアプリケーションの中にだけインストールして、OS環境にある既存のgemに影響を与えないようにすることもできます。</p><p>詳細情報: <a href="http://gembundler.com">Bundlerホームページ</a></p><h4 id="最新のgemを使用する"><a href="#%E6%9C%80%E6%96%B0%E3%81%AEgem%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B">2.2 最新のgemを使用する</a></h4><p><code>Bundler</code>と<code>Gemfile</code>のおかげで、専用の<code>bundle</code>コマンド一発でRailsアプリケーションのgemを簡単に安定させることができます。Gitリポジトリから直接bundleしたい場合は<code>--edge</code>フラグを追加します。</p><div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ rails new myapp --edge

</pre>
</div>
<p>Railsアプリケーションのリポジトリをローカルにチェックアウトしたものがあり、それを使用してアプリケーションを生成したい場合は、<code>--dev</code>フラグを追加します。</p><div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
$ ruby /path/to/rails/railties/bin/rails new myapp --dev

</pre>
</div>
<h3 id="主要な変更"><a href="#%E4%B8%BB%E8%A6%81%E3%81%AA%E5%A4%89%E6%9B%B4">3 主要な変更</a></h3><p><a href="http://railsguides.jp/images/rails4_features.png"><img src="images/rails4_features.png" alt="Rails 4.0"></a></p><h4 id="アップグレード"><a href="#%E3%82%A2%E3%83%83%E3%83%97%E3%82%B0%E3%83%AC%E3%83%BC%E3%83%89">3.1 アップグレード</a></h4>
<ul>
<li>
<strong>Ruby 1.9.3</strong> (<a href="https://github.com/rails/rails/commit/a0380e808d3dbd2462df17f5d3b7fcd8bd812496">コミット</a>) - Ruby 2.0を推奨、1.9.3以降は必須。</li>
<li>
<strong><a href="http://www.youtube.com/watch?v=z6YgD6tVPQs">今後の非推奨化ポリシー</a></strong> - 非推奨となった機能はRails 4.0で警告が表示されるようになり、Rails 4.1ではその機能が完全に削除される。</li>
<li>
<strong>ActionPackの「ページとアクションキャッシュ」(page and action caching)</strong> (<a href="https://github.com/rails/rails/commit/b0a7068564f0c95e7ef28fc39d0335ed17d93e90">コミット</a>) - ページとアクションキャッシュは個別のgemに分離された。ページとアクションキャッシュは手動での調整が必要な部分が多すぎる(背後のモデルオブジェクトが更新されたらキャッシュを手動で期限切れにする必要がある)。今後はロシアンドールキャッシュを使用のこと。</li>
<li>
<strong>ActiveRecord observers</strong> (<a href="https://github.com/rails/rails/commit/ccecab3ba950a288b61a516bf9b6962e384aae0b">コミット</a>) - observers (デザインパターン) は個別のgemに分離された。observersパターンはページとアクションキャッシュでしか使用されず、コードがスパゲッティになりやすいため。</li>
<li>
<strong>ActiveRecordセッションストア</strong> (<a href="https://github.com/rails/rails/commit/0ffe19056c8e8b2f9ae9d487b896cad2ce9387ad">コミット</a>) - ActiveRecordセッションストアは個別のgemに分離された。セッションをSQLに保存するのはコストがかさむ傾向がある。今後はcookiesセッション、memcacheセッション、または独自のセッションストアを使用のこと。</li>
<li>
<strong>ActiveModelマスアサインメント保護</strong> (<a href="https://github.com/rails/rails/commit/f8c9a4d3e88181cee644f91e1342bfe896ca64c6">コミット</a>) - Rails 3のマスアサインメント保護は非推奨に指定された。今後はStrong Parametersを使用のこと。</li>
<li>
<strong>ActiveResource</strong> (<a href="https://github.com/rails/rails/commit/f1637bf2bb00490203503fbd943b73406e043d1d">コミット</a>) - ActiveResourceは個別のgemに分離された。ActiveResourceの使用頻度が低いため。</li>
<li>
<strong>vendor/plugins の削除</strong> (<a href="https://github.com/rails/rails/commit/853de2bd9ac572735fa6cf59fcf827e485a231c3">コミット</a>) - 今後はGemfileでgemのインストールを管理すること。</li>
</ul>
<h4 id="actionpack"><a href="#actionpack">3.2 ActionPack</a></h4>
<ul>
<li>
<strong>Strong Parameters</strong> (<a href="https://github.com/rails/rails/commit/a8f6d5c6450a7fe058348a7f10a908352bb6c7fc">コミット</a>) - ホワイトリストで明示的に許可されたパラメータ (<code>params.permit(:title, :text)</code>) を使用しないとモデルオブジェクトを更新できないようにする。</li>
<li>
<strong>ルーティングの「concern」機能</strong> (<a href="https://github.com/rails/rails/commit/0dd24728a088fcb4ae616bb5d62734aca5276b1b">コミット</a>) - ルーティング用のDSLで、共通となるサブルーティング (subroutes) を除外する (<code>/posts/1/comments</code>と<code>/videos/1/comments</code>における<code>comments</code>など)。</li>
<li>
<strong>ActionController::Live</strong> (<a href="https://github.com/rails/rails/commit/af0a9f9eefaee3a8120cfd8d05cbc431af376da3">コミット</a>) - JSONを<code>response.stream</code>でストリーミングする。</li>
<li>
<strong>「宣言的 (declarative)」ETag</strong> (<a href="https://github.com/rails/rails/commit/ed5c938fa36995f06d4917d9543ba78ed506bb8d">コミット</a>) - コントローラレベルのetagを追加する。これはアクションでのetag算出にも使用される。</li>
<li>
<strong><a href="http://37signals.com/svn/posts/3113-how-key-based-cache-expiration-works">ロシアンドールキャッシュ</a></strong> (<a href="https://github.com/rails/rails/commit/4154bf012d2bec2aae79e4a49aa94a70d3e91d49">コミット</a>) - ビューで、ネストしたコード断片をキャッシュする。各断片は依存関係のセット (キャッシュキー) に応じて期限切れになる。通常、このキャッシュキーにはテンプレートのバージョン番号とモデルオブジェクトが使用される。</li>
<li>
<strong>Turbolinks</strong> (<a href="https://github.com/rails/rails/commit/e35d8b18d0649c0ecc58f6b73df6b3c8d0c6bb74">コミット</a>) - 最初のHTMLページだけを使用してサービスを提供する (訳注: 一部しか違わないページのためにページ全体を HTTP 送信しないで済むようにするための仕組み)。ユーザーが別のページに遷移すると、pushStateでURLを差し替え、AJAXでタイトルとbodyを差し替える。</li>
<li>
<strong>ActionControllerとActionViewの分離</strong> (<a href="https://github.com/rails/rails/commit/78b0934dd1bb84e8f093fb8ef95ca99b297b51cd">コミット</a>) - ActionViewはActionPackから分離され、Rails 4.1で個別のgemに移行する予定。</li>
<li>
<strong>ActiveModelへの依存をただちにやめること</strong> (<a href="https://github.com/rails/rails/commit/166dbaa7526a96fdf046f093f25b0a134b277a68">コミット</a>) - ActionPackはもはやActiveModelを使用しなくなった。</li>
</ul>
<h4 id="一般"><a href="#%E4%B8%80%E8%88%AC">3.3 一般</a></h4>
<ul>
<li>
<strong>ActiveModel::Model</strong> (<a href="https://github.com/rails/rails/commit/3b822e91d1a6c4eab0064989bbd07aae3a6d0d08">commit</a>) - <code>ActiveModel::Model</code>は通常のRubyオブジェクトでもActionPackの機能を利用できるようにする (<code>form_for</code>など) ためのミックスイン。 </li>
<li>
<strong>新しい「スコープAPI」</strong> (<a href="https://github.com/rails/rails/commit/50cbc03d18c5984347965a94027879623fc44cce">コミット</a>) - scopeメソッドの引数は常にcallメソッドを実装していなくてはならない。</li>
<li>
<strong>スキーマキャッシュダンプ</strong> (<a href="https://github.com/rails/rails/commit/5ca4fc95818047108e69e22d200e7a4a22969477">コミット</a>) - Railsの起動時間短縮のため、スキーマをデータベースから直接読み込むのではなくダンプファイルから読み込む。</li>
<li>
<strong>トランザクション分離レベル指定のサポート</strong> (<a href="https://github.com/rails/rails/commit/392eeecc11a291e406db927a18b75f41b2658253">コミット</a>) - 読み出しを頻繁に行うか、書き込みのパフォーマンスを重視してロックを減らすかを選択できる。</li>
<li>
<strong>Dalli</strong> (<a href="https://github.com/rails/rails/commit/82663306f428a5bbc90c511458432afb26d2f238">コミット</a>) - memcacheストアにはDalliのmemcacheクライアントを使用すること。</li>
<li>
<strong>通知の開始と終了</strong> (<a href="https://github.com/rails/rails/commit/f08f8750a512f741acb004d0cebe210c5f949f28">コミット</a>) - Active Support の内部フック機構 (instrumentation) によってサブスクライバへの通知の開始と終了が報告されます。</li>
<li>
<strong>デフォルトでのスレッドセーフ提供</strong> (<a href="https://github.com/rails/rails/commit/5d416b907864d99af55ebaa400fff217e17570cd">コミット</a>) - Railsは追加設定なしでスレッド化されます。</li>
</ul>
<div class="note"><p>追加したgemも同様にスレッドセーフであるかどうかをチェックしておいてください。</p></div>
<ul>
<li>
<strong>PATCH 動詞</strong> (<a href="https://github.com/rails/rails/commit/eed9f2539e3ab5a68e798802f464b8e4e95e619e">コミット</a>) - 従来の HTTP 動詞であるPUTはPATCHに置き換えられました。PATCHはリソースの部分的な更新に使用されます。</li>
</ul>
<h4 id="セキュリティ"><a href="#%E3%82%BB%E3%82%AD%E3%83%A5%E3%83%AA%E3%83%86%E3%82%A3">3.4 セキュリティ</a></h4>
<ul>
<li>
<strong>matchだけですべてをまかなわないこと</strong> (<a href="https://github.com/rails/rails/commit/90d2802b71a6e89aedfe40564a37bd35f777e541">コミット</a>) - ルーティング用のDSLで match を使用する場合には HTTP 動詞 (verb) を明示的にひとつまたは複数指定する必要があります。</li>
<li>
<strong>htmlエンティティをデフォルトでエスケープ</strong> (<a href="https://github.com/rails/rails/commit/5f189f41258b83d49012ec5a0678d827327e7543">コミット</a>) - ERB内でレンダリングされる文字列は、<code>raw</code>や<code>html_safe</code>メソッドでラップしない限り常にエスケープされます。</li>
<li>
<strong>新しいセキュリティヘッダー</strong> (<a href="https://github.com/rails/rails/commit/6794e92b204572d75a07bd6413bdae6ae22d5a82">コメント</a>) - Railsから送信されるあらゆるHTTPリクエストに次のヘッダーが含まれるようになりました: <code>X-Frame-Options</code> (クリックジャック防止のため、フレーム内へのページ埋め込みを禁止するようブラウザに指示する)、<code>X-XSS-Protection</code> (スクリプト注入を停止するようブラウザに指示する)、<code>X-Content-Type-Options</code> (jpegファイルをexeとして開かないようブラウザに指示する)。</li>
</ul>
<h3 id="外部gem化された機能"><a href="#%E5%A4%96%E9%83%A8gem%E5%8C%96%E3%81%95%E3%82%8C%E3%81%9F%E6%A9%9F%E8%83%BD">4 外部gem化された機能</a></h3><p>Rails 4.0では多くの機能が切り出されてgemに移行しました。切り出されたgemを<code>Gemfile</code>ファイルに追加するだけでこれまでと同様に利用できます。</p>
<ul>
<li>ハッシュベースおよび動的findメソッド群 (<a href="https://github.com/rails/activerecord-deprecated_finders">GitHub</a>)</li>
<li>Active Recordモデルでのマスアサインメント保護 (<a href="https://github.com/rails/protected_attributes">GitHub</a>、<a href="https://github.com/rails/rails/pull/7251">Pull Request</a>)</li>
<li>ActiveRecord::SessionStore (<a href="https://github.com/rails/activerecord-session_store">GitHub</a>、<a href="https://github.com/rails/rails/pull/7436">Pull Request</a>)</li>
<li>Active Record Observerパターン (<a href="https://github.com/rails/rails-observers">GitHub</a>、<a href="https://github.com/rails/rails/commit/39e85b3b90c58449164673909a6f1893cba290b2">Commit</a>)</li>
<li>Active Resource (<a href="https://github.com/rails/activeresource">GitHub</a>, <a href="https://github.com/rails/rails/pull/572">Pull Request</a>、<a href="http://yetimedia.tumblr.com/post/35233051627/activeresource-is-dead-long-live-activeresource">ブログ記事</a>)</li>
<li>アクションキャッシュ (<a href="https://github.com/rails/actionpack-action_caching">GitHub</a>、<a href="https://github.com/rails/rails/pull/7833">Pull Request</a>)</li>
<li>ページキャッシュ (<a href="https://github.com/rails/actionpack-page_caching">GitHub</a>、<a href="https://github.com/rails/rails/pull/7833">Pull Request</a>)</li>
<li>Sprockets (<a href="https://github.com/rails/sprockets-rails">GitHub</a>)</li>
<li>パフォーマンステスト (<a href="https://github.com/rails/rails-perftest">GitHub</a>、<a href="https://github.com/rails/rails/pull/8876">Pull Request</a>)</li>
</ul>
<h3 id="ドキュメント"><a href="#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88">5 ドキュメント</a></h3>
<ul>
<li><p>ガイドはGitHub風マークダウンで書き直されました。</p></li>
<li><p>ガイドのデザインがレスポンシブになりました。</p></li>
</ul>
<h3 id="railties"><a href="#railties">6 Railties</a></h3><p>変更の詳細については<a href="https://github.com/rails/rails/blob/4-0-stable/railties/CHANGELOG.md">Changelog</a> を参照してください。</p><h4 id="railties-主な変更点"><a href="#railties-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">6.1 主な変更点</a></h4>
<ul>
<li><p>テスト用ディレクトリが追加されました: <code>test/models</code>、<code>test/helpers</code>、<code>test/controllers</code>、<code>test/mailers</code>これらに対応するrakeタスクも追加されました。(<a href="https://github.com/rails/rails/pull/7878">Pull Request</a>)</p></li>
<li><p>アプリケーション内の実行ファイルは<code>bin/</code>ディレクトリに置かれるようになりました。<code>rake rails:update:bin</code>を実行すると<code>bin/bundle</code>、<code>bin/rails</code>、<code>bin/rake</code>を取得します。</p></li>
<li><p>デフォルトでスレッドセーフになりました。</p></li>
<li><p><code>rails new</code>に<code>--builder</code>または<code>-b</code>を渡すことでカスタムビルダーを使用できる機能は削除されました。今後はアプリケーションテンプレートの利用をご検討ください。(<a href="https://github.com/rails/rails/pull/9401">Pull Request</a>)</p></li>
</ul>
<h4 id="railties-非推奨"><a href="#railties-%E9%9D%9E%E6%8E%A8%E5%A5%A8">6.2 非推奨</a></h4>
<ul>
<li><p><code>config.threadsafe!</code>は非推奨になりました。今後は<code>config.eager_load</code>をご利用ください。後者は一括読み込み (eager load) の対象をさらに細かい粒度で制御できます。</p></li>
<li><p><code>Rails::Plugin</code>は廃止されました。今後は<code>vendor/plugins</code>にプラグインを追加する代わりに、gemやbundlerでパスやgit依存関係を指定してご利用ください。</p></li>
</ul>
<h3 id="action-mailer"><a href="#action-mailer">7 Action Mailer</a></h3><p>変更の詳細については<a href="https://github.com/rails/rails/blob/4-0-stable/actionmailer/CHANGELOG.md">Changelog</a> を参照してください。</p><h4 id="action-mailer-主な変更点"><a href="#action-mailer-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">7.1 主な変更点</a></h4><h4 id="action-mailer-非推奨"><a href="#action-mailer-%E9%9D%9E%E6%8E%A8%E5%A5%A8">7.2 非推奨</a></h4><h3 id="active-model"><a href="#active-model">8 Active Model</a></h3><p>変更の詳細については<a href="https://github.com/rails/rails/blob/4-0-stable/activemodel/CHANGELOG.md">Changelog</a> を参照してください。</p><h4 id="active-model-主な変更点"><a href="#active-model-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">8.1 主な変更点</a></h4>
<ul>
<li><p><code>ActiveModel::ForbiddenAttributesProtection</code>を追加しました。許可されていない属性が渡された場合にマスアサインメントから属性を保護するためのシンプルなモジュールです。</p></li>
<li><p><code>ActiveModel::Model</code>を追加しました。RubyオブジェクトをAction Packですぐに使えるようにするためのミックスインです。</p></li>
</ul>
<h4 id="active-model-非推奨"><a href="#active-model-%E9%9D%9E%E6%8E%A8%E5%A5%A8">8.2 非推奨</a></h4><h3 id="active-support"><a href="#active-support">9 Active Support</a></h3><p>変更の詳細については<a href="https://github.com/rails/rails/blob/4-0-stable/activesupport/CHANGELOG.md">Changelog</a> を参照してください。</p><h4 id="active-support-主な変更点"><a href="#active-support-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">9.1 主な変更点</a></h4>
<ul>
<li><p>非推奨の<code>memcache-client</code> gemを<code>ActiveSupport::Cache::MemCacheStore</code>の<code>dalli</code>に置き換えました。</p></li>
<li><p><code>ActiveSupport::Cache::Entry</code>が最適化され、メモリ使用量と処理のオーバーヘッドが軽減されました。</p></li>
<li><p>語の活用形 (inflection) をロケールごとに設定できるようになり、<code>singularize</code>や<code>pluralize</code>メソッドの引数にロケールも指定できるようになりました。</p></li>
<li><p><code>Object#try</code>に渡したオブジェクトにメソッドが実装されていなかった場合に、NoMethodErrorエラーを発生する代わりにnilを返すようになりました。新しい<code>Object#try!</code>を使用すれば従来と同じ動作になります。</p></li>
<li><p><code>String#to_date</code>に無効な日付を渡した場合に発生するエラーが<code>NoMethodError: undefined method 'div' for nil:NilClass</code>から<code>ArgumentError: invalid date</code>に変更されました。これによって<code>Date.parse</code>と同じ動作になり、以下のように3.xよりも日付を適切に扱えるようになりました。</p></li>
</ul>
<div class="code_container">
<pre class="brush: ruby; gutter: false; toolbar: false">
  # ActiveSupport 3.x
  "asdf".to_date # =&gt; NoMethodError: undefined method `div' for nil:NilClass
  "333".to_date # =&gt; NoMethodError: undefined method `div' for nil:NilClass

  # ActiveSupport 4
  "asdf".to_date # =&gt; ArgumentError: invalid date
  "333".to_date # =&gt; Fri, 29 Nov 2013

</pre>
</div>
<h4 id="active-support-非推奨"><a href="#active-support-%E9%9D%9E%E6%8E%A8%E5%A5%A8">9.2 非推奨</a></h4>
<ul>
<li><p><code>ActiveSupport::TestCase#pending</code>メソッドが非推奨になりました。今後はMiniTestの<code>skip</code>をご利用ください。</p></li>
<li><p><code>ActiveSupport::Benchmarkable#silence</code>はスレッドセーフでないため非推奨となりました。Rails 4.1では代替されることなく削除される予定です。</p></li>
<li><p><code>ActiveSupport::JSON::Variable</code>は非推奨になりました。カスタムのJSON文字列リテラルを扱いたい場合は、<code>#as_json</code>と<code>#encode_json</code>メソッドを自分で定義してください。</p></li>
<li><p>互換用の<code>Module#local_constant_names</code>メソッドは非推奨になりました。今後はシンボルを返す<code>Module#local_constants</code>をご利用ください。</p></li>
<li><p><code>BufferedLogger</code>は非推奨になりました。今後は<code>ActiveSupport::Logger</code>またはRuby標準ライブラリのロガーをご利用ください。</p></li>
<li><p><code>assert_present</code>および<code>assert_blank</code>は非推奨になりました。今後は<code>assert object.blank?</code>や<code>assert object.present?</code>をご利用ください。</p></li>
</ul>
<h3 id="action-pack"><a href="#action-pack">10 Action Pack</a></h3><p>変更の詳細については<a href="https://github.com/rails/rails/blob/4-0-stable/actionpack/CHANGELOG.md">Changelog</a> を参照してください。</p><h4 id="action-pack-主な変更点"><a href="#action-pack-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">10.1 主な変更点</a></h4>
<ul>
<li>developmentモードでの例外ページのスタイルシートが変更されました。また、例外ページにはその例外が実際に発生したコードの行や断片も常に表示されるようになりました。</li>
</ul>
<h4 id="action-pack-非推奨"><a href="#action-pack-%E9%9D%9E%E6%8E%A8%E5%A5%A8">10.2 非推奨</a></h4><h3 id="active-record"><a href="#active-record">11 Active Record</a></h3><p>変更の詳細については<a href="https://github.com/rails/rails/blob/4-0-stable/activerecord/CHANGELOG.md">Changelog</a> を参照してください。</p><h4 id="active-record-主な変更点"><a href="#active-record-%E4%B8%BB%E3%81%AA%E5%A4%89%E6%9B%B4%E7%82%B9">11.1 主な変更点</a></h4>
<ul>
<li>
<p>マイグレーションで<code>change</code>を書く方法が改良され、以前のように<code>up</code>や<code>down</code>メソッドを使用する必要がなくなりました。</p>
<ul>
<li>
<code>drop_table</code>メソッドと<code>remove_column</code>メソッドは逆方向のマイグレーション (取り消し) が可能になりました。ただしそのために必要な情報が与えられていることが前提です。
<code>remove_column</code>メソッドは従来複数のカラムを引数に指定する際に使用されていましたが、今後はそのような場合には<code>remove_columns</code>メソッドをご利用ください (ただしこちらは逆マイグレーションできません)。
<code>change_table</code>も逆マイグレーション可能になりました。ただしそのブロックで<code>remove</code>、<code>change</code>、<code>change_default</code>が呼び出されていないことが前提です。</li>
<li>
<code>reversible</code>メソッドが新たに追加され、マイグレーション (up) や逆マイグレーション (down) 時に実行するコードを指定できるようになりました。
詳細については<a href="active_record_migrations.html#reversible%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B">Active Record マイグレーションガイド</a>を参照してください。</li>
<li>新しい<code>revert</code>メソッドは、特定のブロックやマイグレーション全体を逆転します。
逆マイグレーション (down) を行うと、指定されたマイグレーションやブロックは通常のマイグレーション (up) になります。
詳細については<a href="active_record_migrations.html#%E4%BB%A5%E5%89%8D%E3%81%AE%E3%83%9E%E3%82%A4%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%92%E9%80%86%E8%BB%A2%E3%81%99%E3%82%8B">Active Record マイグレーションガイド</a>を参照してください。</li>
</ul>
</li>
<li><p>PostgreSQLの配列型サポートが追加されました。配列カラムの作成時に任意のデータ型を使用できます。それらのデータ型はフルマイグレーションやスキーマダンプでもサポートされます。</p></li>
<li><p><code>Relation#load</code>メソッドが追加されました。これはレコードを明示的に読み込んで<code>self</code>を返します。</p></li>
<li><p><code>Model.all</code>が<code>ActiveRecord::Relation</code>を返すようになりました。従来はレコードの配列を返していました。レコードの配列がどうしても必要な場合は<code>Relation#to_a</code>をご利用ください。ただし場合によっては今後のアップグレード時に正常に動作しなくなることがありえます。</p></li>
<li><p><code>ActiveRecord::Migration.check_pending!</code>が追加されました。これはマイグレーションが延期されている場合にエラーを発生します。</p></li>
<li>
<p><code>ActiveRecord::Store</code>用のカスタムコーダーのサポートが追加されました。これにより、以下のような方法でカスタムコーダーを設定できます。</p>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
store :settings, accessors: [ :color, :homepage ], coder: JSON

</pre>
</div>
</li>
<li><p><code>mysql</code>や<code>mysql2</code>への接続時にデフォルトで<code>SQL_MODE=STRICT_ALL_TABLES</code>が設定されるようになりました。これはデータ損失時に何も通知されない状態を回避するための設定です。<code>database.yml</code>ファイルで<code>strict: false</code>を指定するとこの設定は無効になります。</p></li>
<li><p>IdentityMapは削除されました。</p></li>
<li><p>EXPLAINクエリの自動実行は削除されました。この<code>active_record.auto_explain_threshold_in_seconds</code>オプションは今後利用されないので削除する必要があります。</p></li>
<li><p><code>ActiveRecord::NullRelation</code>と<code>ActiveRecord::Relation#none</code>が追加されました。これらはRelationクラスにnullオブジェクトパターンを実装するためのものです。</p></li>
<li><p><code>create_join_table</code>マイグレーションヘルパーが追加されました。これはHABTM (Has And Belongs To Many) 結合テーブルを作成します。</p></li>
<li><p>PostgreSQL hstoreレコードを作成できるようになりました。</p></li>
</ul>
<h4 id="active-record-非推奨"><a href="#active-record-%E9%9D%9E%E6%8E%A8%E5%A5%A8">11.2 非推奨</a></h4>
<ul>
<li><p>従来のハッシュベースのfind関連APIメソッドは非推奨になりました。これにより、従来利用できた「findオプション」はサポートされなくなりました。</p></li>
<li>
<p>動的なfind関連メソッドは、<code>find_by_...</code>と<code>find_by_...!</code>を除いて非推奨になりました。以下の要領でコードを書き直してください。</p>
<ul>
<li>
<code>find_all_by_...</code>は<code>where(...)</code>で書き直せる。</li>
<li>
<code>find_last_by_...</code>は<code>where(...).last</code>で書き直せる。</li>
<li>
<code>scoped_by_...</code>は<code>where(...)</code>で書き直せる。</li>
<li>
<code>find_or_initialize_by_...</code>は<code>find_or_initialize_by(...)</code>で書き直せる。</li>
<li>
<code>find_or_create_by_...</code>は<code>find_or_create_by(...)</code>で書き直せる。</li>
<li>
<code>find_or_create_by_...!</code>は<code>find_or_create_by!(...)</code>で書き直せる。</li>
</ul>
</li>
</ul>
<h3 id="クレジット表記"><a href="#%E3%82%AF%E3%83%AC%E3%82%B8%E3%83%83%E3%83%88%E8%A1%A8%E8%A8%98">12 クレジット表記</a></h3><p>Railsを頑丈かつ安定したフレームワークにするために多大な時間を費やしてくださった多くの開発者については、<a href="http://contributors.rubyonrails.org/">Railsコントリビューターの完全なリスト</a>を参照してください。これらの方々全員に敬意を表明いたします。</p>
        

        <h3 id="feedback"><a href="#feedback">フィードバックについて</a></h3>
        <p>
          本ガイドは GitHub上の <a href="https://github.com/yasslab/railsguides.jp">yasslab/railsguides.jp</a> で管理・公開されております。
          本ガイドを読んで気になる文章や間違ったコードを見かけたら、上記リポジトリにてお気軽に <a href="https://github.com/yasslab/railsguides.jp/issues">Issue</a> を出して頂けると嬉しいです。また、「Pull Request を送りたい!」という場合には、<a href="ruby_on_rails_guides_guidelines.html">Ruby on Railsガイドのガイドライン</a>と、<a href="https://github.com/yasslab/railsguides.jp#%E7%BF%BB%E8%A8%B3%E3%81%AE%E6%B5%81%E3%82%8C">README</a>に記載されている「翻訳の流れ」をご参考にしてください。
        </p>
        <p>
          なお、原著における間違いを見つけたら、「Ruby on Railsに貢献する方法」に記されている<a href="/contributing_to_ruby_on_rails.html#rails%E3%81%AE%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E8%B2%A2%E7%8C%AE%E3%81%99%E3%82%8B">Railsのドキュメントに貢献する</a>を参考にしながら、ぜひRailsコミュニティに貢献してみてしてください :)
        </p>
        <p>
          本ガイドの品質向上に向けて、皆さまのご協力が得られれば幸いです。よろしくお願い致します。
        </p>
        <ol class="snsb" style="margin-left: 0px">
	  <li><div class="fb-like" data-href="http://railsguides.jp/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div></li>
	  <li><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://railsguides.jp/" data-text="Ruby on Rails ガイド：体系的に Rails を学ぼう" data-lang="en" data-hashtags="Railsガイド" data-via="RailsGuidesJP" width="100">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></li>
          <li><iframe src="http://ghbtns.com/github-btn.html?user=yasslab&repo=railsguides.jp&type=watch&count=true" allowtransparency="true" frameborder="0" scrolling="0" width="80" height="20"></iframe></li>
          <li><a href="http://b.hatena.ne.jp/entry/railsguides.jp" class="hatena-bookmark-button" data-hatena-bookmark-title="Ruby on Rails ガイド：体系的に Rails を学ぼう" data-hatena-bookmark-layout="standard-balloon" data-hatena-bookmark-lang="ja" title="このエントリーをはてなブックマークに追加"><img src="http://b.st-hatena.com/images/entry-button/button-only@2x.png" alt="このエントリーをはてなブックマークに追加" width="20" height="20" style="border: none;" /></a><script type="text/javascript" src="http://b.st-hatena.com/js/bookmark_button.js" charset="utf-8" async="async"></script></li>          
	  <li><div class="g-plusone" data-size="medium" data-lang="ja"></div>
	    <script type="text/javascript">
	      (function() {
                var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                po.src = 'https://apis.google.com/js/plusone.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
	      })();
	    </script>
	  </li>
        </ol>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <div class="sitemap">
          <dl class="L">
            <dt>はじめに</dt>
              <dd><a href="getting_started.html">Rails をはじめよう</a></dd>
            <dt>モデル</dt>
              <dd><a href="active_record_basics.html">Active Record の基礎</a></dd>
              <dd><a href="active_record_migrations.html">Active Record マイグレーション</a></dd>
              <dd><a href="active_record_validations.html">Active Record バリデーション</a></dd>
              <dd><a href="active_record_callbacks.html">Active Record コールバック</a></dd>
              <dd><a href="association_basics.html">Active Record の関連付け</a></dd>
              <dd><a href="active_record_querying.html">Active Record クエリインターフェイス</a></dd>
              <dd><a href="active_model_basics.html">Active Model の基礎</a></dd>
            <dt>ビュー</dt>
              <dd><a href="action_view_overview.html">Action View の概要</a></dd>
              <dd><a href="layouts_and_rendering.html">レイアウトとレンダリング</a></dd>
              <dd><a href="form_helpers.html">Action View フォームヘルパー</a></dd>
            <dt>コントローラ</dt>
              <dd><a href="action_controller_overview.html">Action Controller の概要</a></dd>
              <dd><a href="routing.html">Rails ルーティング</a></dd>
          </dl>
          <dl class="C">
            <dt>高度なトピック</dt>
              <dd><a href="active_support_core_extensions.html">Active Support コア拡張機能</a></dd>
              <dd><a href="i18n.html">Rails 国際化 (i18n) API</a></dd>
              <dd><a href="action_mailer_basics.html">Action Mailer の基礎</a></dd>
              <dd><a href="active_job_basics.html">Active Job の基礎</a></dd>
              <dd><a href="testing.html">Rails テスティングガイド</a></dd>
              <dd><a href="security.html">Rails セキュリティガイド</a></dd>
              <dd><a href="debugging_rails_applications.html">Rails アプリケーションのデバッグ</a></dd>
              <dd><a href="configuring.html">Rails アプリケーションを設定する</a></dd>
              <dd><a href="command_line.html">コマンドラインツールと Rake タスク</a></dd>
              <dd><a href="asset_pipeline.html">アセットパイプライン</a></dd>
              <dd><a href="working_with_javascript_in_rails.html">Rails で JavaScript を使用する</a></dd>
              <dd><a href="initialization.html">Rails の初期化プロセス</a></dd>
              <dd><a href="autoloading_and_reloading_constants.html">定数の自動読み込みと再読み込み</a></dd>
              <dd><a href="caching_with_rails.html">Rails のキャッシュ: 概要</a></dd>
              <dd><a href="active_support_instrumentation.html">Active Support の Instrumentation 機能</a></dd>
              <dd><a href="profiling.html">Rails アプリケーションのプロファイリング</a></dd>
              <dd><a href="api_app.html">Rails による API 専用アプリ</a></dd>
              <dd><a href="action_cable_overview.html">Action Cable の概要</a></dd>
            <dt>Rails を拡張する</dt>
              <dd><a href="plugins.html">Rails プラグイン作成入門</a></dd>
              <dd><a href="rails_on_rack.html">Rails と Rack</a></dd>
              <dd><a href="generators.html">Rails ジェネレータとテンプレート入門</a></dd>
              <dd><a href="engines.html">Rails エンジン入門</a></dd>
          </dl>
          <dl class="R">
            <dt>Ruby on Rails に貢献する</dt>
              <dd><a href="contributing_to_ruby_on_rails.html">Ruby on Rails に貢献する方法</a></dd>
              <dd><a href="development_dependencies_install.html">Rails コア開発環境の構築方法</a></dd>
              <dd><a href="api_documentation_guidelines.html">API ドキュメント作成ガイドライン</a></dd>
              <dd><a href="ruby_on_rails_guides_guidelines.html">Rails ガイドのガイドライン</a></dd>
            <dt>メンテナンスポリシー</dt>
              <dd><a href="maintenance_policy.html">メンテナンスポリシー</a></dd>
            <dt>リリースノート</dt>
              <dd><a href="upgrading_ruby_on_rails.html">Rails アップグレードガイド</a></dd>
              <dd><a href="5_0_release_notes.html">Ruby on Rails 5.0 リリースノート</a></dd>
              <dd><a href="4_2_release_notes.html">Ruby on Rails 4.2 リリースノート</a></dd>
              <dd><a href="4_1_release_notes.html">Ruby on Rails 4.1 リリースノート</a></dd>
              <dd><a href="4_0_release_notes.html">Ruby on Rails 4.0 リリースノート</a></dd>
              <dd><a href="3_2_release_notes.html">Ruby on Rails 3.2 Release Notes [未着手]</a></dd>
              <dd><a href="3_1_release_notes.html">Ruby on Rails 3.1 Release Notes [未着手]</a></dd>
              <dd><a href="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes [未着手]</a></dd>
              <dd><a href="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes [未着手]</a></dd>
              <dd><a href="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes [未着手]</a></dd>
          </dl>
      </div>

      <ol class="snsb" style="padding-top: 20px">
	<li>本ガイドは<a href="https://creativecommons.org/licenses/by-sa/4.0/deed.ja">クリエイティブ・コモンズ 表示-継承 4.0 国際</a> (CC BY-SA 4.0) ライセンスに基づいて公開されています。また、「Rails」および「Ruby on Rails」という名称、そして Rails のロゴは、David Heinemeier Hansson による登録商標で、すべての権利を有しています。</li>
      </ol>
    </div>
  </div>
</h5>
  <script type="text/javascript" src="javascripts/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/responsive-tables.js"></script>
  <script type="text/javascript" src="javascripts/guides.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all();
    $(guidesIndex.bind);
  </script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-50163209-4', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>
